<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Open Source Audio Library Project: aflibAudioRecorder Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>aflibAudioRecorder Class Reference</h1><!-- doxytag: class="aflibAudioRecorder" --><!-- doxytag: inherits="aflibAudio" -->Audio timer recording class.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="aflibAudioRecorder_8h-source.html">aflibAudioRecorder.h</a>&gt;</code>
<p>
<p>Inheritance diagram for aflibAudioRecorder:
<p><center><img src="classaflibAudioRecorder.png" usemap="#aflibAudioRecorder_map" border="0" alt=""></center>
<map name="aflibAudioRecorder_map">
<area href="classaflibAudio.html" alt="aflibAudio" shape="rect" coords="66,56,188,80">
<area href="classaflibChain.html" alt="aflibChain" shape="rect" coords="0,0,122,24">
<area href="classaflibMemCache.html" alt="aflibMemCache" shape="rect" coords="132,0,254,24">
</map>
<a href="classaflibAudioRecorder-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaflibAudioRecorder.html#e3e47f19a3de901f465d0067e016c1fe">aflibAudioRecorder</a> (<a class="el" href="classaflibAudio.html">aflibAudio</a> &amp;audio)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor that requires an audio parent.  <a href="#e3e47f19a3de901f465d0067e016c1fe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaflibAudioRecorder.html#47fd0eba4eea9b5e0cdc24dea7945525">aflibAudioRecorder</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Empty constructor.  <a href="#47fd0eba4eea9b5e0cdc24dea7945525"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaflibAudioRecorder.html#f24a6d30c8557534d6dab967116e3553">~aflibAudioRecorder</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#f24a6d30c8557534d6dab967116e3553"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaflibAudioRecorder.html#b9d169669b678a13d3e4e5eb48031927">addRecordItem</a> (const <a class="el" href="classaflibDateTime.html">aflibDateTime</a> &amp;start_date, const <a class="el" href="classaflibDateTime.html">aflibDateTime</a> &amp;stop_date, const string &amp;file, const string &amp;file_type, long long max_limit, long long each_limit, <a class="el" href="classaflibConfig.html">aflibConfig</a> &amp;config)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an item to the record list.  <a href="#b9d169669b678a13d3e4e5eb48031927"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaflibAudioRecorder.html#39d562119a4efb4fad501a5691fc431e">removeRecordItem</a> (int item)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a audio record item.  <a href="#39d562119a4efb4fad501a5691fc431e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaflibAudioRecorder.html#1e73bc1879f399dbbacf10595a555242">getNumberOfRecordItems</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets number of current record items.  <a href="#1e73bc1879f399dbbacf10595a555242"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaflibAudioRecorder.html#ca259b2860f4132ad6bc33c473dcf067">getRecordItem</a> (int item, <a class="el" href="classaflibDateTime.html">aflibDateTime</a> &amp;start_date, <a class="el" href="classaflibDateTime.html">aflibDateTime</a> &amp;stop_date, string &amp;file, string &amp;file_type, long long &amp;max_limit, long long &amp;each_limit, <a class="el" href="classaflibConfig.html">aflibConfig</a> &amp;config) const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the data for a record item.  <a href="#ca259b2860f4132ad6bc33c473dcf067"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="aflib_8h.html#71ba8d146ec8098b336803bb431e70ef">aflibStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaflibAudioRecorder.html#97f549bc19ba5264f18f3deae2c66e11">compute_segment</a> (list&lt; <a class="el" href="classaflibData.html">aflibData</a> * &gt; &amp;data, long long position=-1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Work function, must be implemented by derived class.  <a href="#97f549bc19ba5264f18f3deae2c66e11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaflibAudioRecorder.html#538b41934c464dcdffb67359a6c86e49">getName</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the name of the derived class.  <a href="#538b41934c464dcdffb67359a6c86e49"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Audio timer recording class. 
<p>
This is a class that performs audio timer recording. This is derived from the <a class="el" href="classaflibAudio.html">aflibAudio</a> base class so it can be used in an audio chain. This is a complex class that aids the user in developing functionality to their audio application that will perform like a VCR does for video. One creates audio record items. You supply start times, stop times, size limits, and info. Then you form this as part of a chain and loop on the process function of this objects base class. When the start time is reached for an item it will start recording. It will stop on several criteria. One can specify multiple items and in fact they can even overlap in time.<p>
ADDING RECORD ITEMS One can add record items by calling addRecordItem. One specifies all the necessary information and then make it part of the audio chain and it is ready to go. If this audio object is destroyed then the record information is lost. If one wants to start recording right away then make the start time before the current time. The recording will stop based upon when one of two criteria is reached. If the stop time is reached then recording will stop. There are also two file size limits that can be set. If these are reached before the stop time then recording will be stopped. There is a max file size limit. This will allow one to set an upper limit on the disk space that will be used by the recording. This is useful when you only have a certain amount of disk space available. There is also an each file size limit. This will allow you to set a limit on how big each audio file will be. When that limit is reached then that file will be closed and a new one will be created. The new name will be called the original name plus _&lt;number&gt; before the extension. As many files will be created until either the stop time is reached or the max file size limit is reached. For each file mode the max file size limit means the total size of all audio files created. Each file mode is useful for portable MP3 players that have a memory limit. If you want to record a long show just set a each file size limit of 30M then the show will be stored to sperate files of 30M each. Just big enough to store on a MP3 player.<p>
REMOVING RECORD ITEMS One can delete already stored items by calling removeRecordItem. Just pass the item number. The item number can be obtained from calls to getNumberOfRecordItems, getRecordItem. getNumberOfRecordItems will return the total number of items stored so far. getRecordItem will return all the information for an item. The numbering of items start at one. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="e3e47f19a3de901f465d0067e016c1fe"></a><!-- doxytag: member="aflibAudioRecorder::aflibAudioRecorder" ref="e3e47f19a3de901f465d0067e016c1fe" args="(aflibAudio &amp;audio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aflibAudioRecorder::aflibAudioRecorder           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaflibAudio.html">aflibAudio</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>audio</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor that requires an audio parent. 
<p>

</div>
</div><p>
<a class="anchor" name="47fd0eba4eea9b5e0cdc24dea7945525"></a><!-- doxytag: member="aflibAudioRecorder::aflibAudioRecorder" ref="47fd0eba4eea9b5e0cdc24dea7945525" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aflibAudioRecorder::aflibAudioRecorder           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Empty constructor. 
<p>
A empty constructor is provided for the case where this object will serve as a data collector keeping record segments stored. When it is ready to be used as part of a chain then the addParent in the base class should be called with the audio parent object. 
</div>
</div><p>
<a class="anchor" name="f24a6d30c8557534d6dab967116e3553"></a><!-- doxytag: member="aflibAudioRecorder::~aflibAudioRecorder" ref="f24a6d30c8557534d6dab967116e3553" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aflibAudioRecorder::~aflibAudioRecorder           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b9d169669b678a13d3e4e5eb48031927"></a><!-- doxytag: member="aflibAudioRecorder::addRecordItem" ref="b9d169669b678a13d3e4e5eb48031927" args="(const aflibDateTime &amp;start_date, const aflibDateTime &amp;stop_date, const string &amp;file, const string &amp;file_type, long long max_limit, long long each_limit, aflibConfig &amp;config)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aflibAudioRecorder::addRecordItem           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classaflibDateTime.html">aflibDateTime</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>start_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classaflibDateTime.html">aflibDateTime</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>stop_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>file_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&nbsp;</td>
          <td class="paramname"> <em>max_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&nbsp;</td>
          <td class="paramname"> <em>each_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaflibConfig.html">aflibConfig</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>config</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds an item to the record list. 
<p>
This function will add a record item to the list of record elements. Enter a start and stop date and time. A file and file type. The file_type argument must be a supported format. The list of formats can be returned from the call returnSupportedFormats from the <a class="el" href="classaflibFile.html">aflibFile</a> base class. This is a static function so it can be called at anytime. The max_limit is the total maximum disk space that can be used. Recording will stop when this value has been reached. To bypass the max file limit use -1. There is also an each_limit that can be bypassed with a -1 as well. This will split the audio into multiple files. It will start recording to a new file when this limit has been reached. Finally the config parameter will tell this class how to setup your audio file. 
</div>
</div><p>
<a class="anchor" name="39d562119a4efb4fad501a5691fc431e"></a><!-- doxytag: member="aflibAudioRecorder::removeRecordItem" ref="39d562119a4efb4fad501a5691fc431e" args="(int item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aflibAudioRecorder::removeRecordItem           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>item</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a audio record item. 
<p>
This will remove the specified item. The item number is obtained from calling getNumberOfRecordItems and getRecordItem. Item numbers start at 1. 
</div>
</div><p>
<a class="anchor" name="1e73bc1879f399dbbacf10595a555242"></a><!-- doxytag: member="aflibAudioRecorder::getNumberOfRecordItems" ref="1e73bc1879f399dbbacf10595a555242" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aflibAudioRecorder::getNumberOfRecordItems           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets number of current record items. 
<p>

</div>
</div><p>
<a class="anchor" name="ca259b2860f4132ad6bc33c473dcf067"></a><!-- doxytag: member="aflibAudioRecorder::getRecordItem" ref="ca259b2860f4132ad6bc33c473dcf067" args="(int item, aflibDateTime &amp;start_date, aflibDateTime &amp;stop_date, string &amp;file, string &amp;file_type, long long &amp;max_limit, long long &amp;each_limit, aflibConfig &amp;config) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aflibAudioRecorder::getRecordItem           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaflibDateTime.html">aflibDateTime</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>start_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaflibDateTime.html">aflibDateTime</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>stop_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&nbsp;</td>
          <td class="paramname"> <em>file_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long &amp;&nbsp;</td>
          <td class="paramname"> <em>max_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long &amp;&nbsp;</td>
          <td class="paramname"> <em>each_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaflibConfig.html">aflibConfig</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>config</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the data for a record item. 
<p>

</div>
</div><p>
<a class="anchor" name="97f549bc19ba5264f18f3deae2c66e11"></a><!-- doxytag: member="aflibAudioRecorder::compute_segment" ref="97f549bc19ba5264f18f3deae2c66e11" args="(list&lt; aflibData * &gt; &amp;data, long long position=-1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aflib_8h.html#71ba8d146ec8098b336803bb431e70ef">aflibStatus</a> aflibAudioRecorder::compute_segment           </td>
          <td>(</td>
          <td class="paramtype">list&lt; <a class="el" href="classaflibData.html">aflibData</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&nbsp;</td>
          <td class="paramname"> <em>position</em> = <code>-1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Work function, must be implemented by derived class. 
<p>

<p>
Reimplemented from <a class="el" href="classaflibAudio.html#d5362531d5963ffabef9edfb21b9237f">aflibAudio</a>.
</div>
</div><p>
<a class="anchor" name="538b41934c464dcdffb67359a6c86e49"></a><!-- doxytag: member="aflibAudioRecorder::getName" ref="538b41934c464dcdffb67359a6c86e49" args="() const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* aflibAudioRecorder::getName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the name of the derived class. 
<p>

<p>
Reimplemented from <a class="el" href="classaflibAudio.html#b759dee53fdc3dd5c705fe6c99b62abd">aflibAudio</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="aflibAudioRecorder_8h-source.html">aflibAudioRecorder.h</a><li><a class="el" href="aflibAudioRecorder_8cc.html">aflibAudioRecorder.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sat Feb 23 13:56:37 2008 for Open Source Audio Library Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
